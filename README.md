# 模型预测系统

## 项目简介

模型预测系统是一个基于机器学习的加密货币市场预测系统，集成了多种技术指标、智能投票系统、市场监控和策略调整功能。系统能够根据历史数据训练模型，并使用训练好的模型对市场进行预测，生成交易信号和市场警报。

## 核心功能

### 1. 模型训练与配置
- 支持多种机器学习模型：随机森林、线性回归、岭回归、支持向量回归、XGBoost
- 支持集成模型训练，结合多个模型的预测结果
- 可配置数据预处理参数，包括数据缩放和特征选择
- 支持三种策略模式：保守型、平衡型、激进型

### 2. 技术指标集成
- 实现了8种技术指标模型，包括趋势跟随、均值回归、动量、成交量、波动性、突破、模式和情绪指标
- 每种技术指标都能生成交易信号和置信度
- 技术指标预测结果会被纳入智能组合预测

### 3. 智能组合预测
- 基于市场条件和历史性能的自适应加权投票系统
- 分析市场条件，调整模型权重
- 计算模型一致性，提高预测可靠性
- 生成最终的交易信号和置信度

### 4. 市场监控与警报
- 持续监控市场条件和模型性能
- 生成市场警报，及时发现异常情况
- 跟踪模型的预测性能，及时发现性能下降
- 提供市场摘要和预测摘要

### 5. 实时预测
- 支持实时市场数据的预测
- 生成实时交易信号
- 提供详细的预测分析和可视化

## 项目结构

```
├── model_prediction/           # 模型预测核心模块
│   ├── predictor.py            # 核心预测系统
│   ├── model_manager.py        # 模型管理
│   ├── data_preprocessor.py    # 数据预处理
│   ├── technical_indicator_models.py  # 技术指标模型
│   ├── smart_ensemble_voter.py # 智能投票系统
│   ├── market_monitor.py       # 市场监控
│   ├── strategy_adjuster.py    # 策略调整器
│   ├── result_processor.py     # 结果处理
│   └── models/                 # 模型存储目录
├── frontend/                   # 前端界面
│   ├── model_prediction.html   # 模型预测页面
│   └── static/                 # 静态资源
├── config/                     # 配置文件
│   └── model_prediction/       # 模型预测配置
├── main.py                     # 主应用
├── strategies.py               # 策略定义
├── requirements.txt            # 依赖包
└── README.md                   # 项目文档
```

## 安装指南

### 1. 环境要求
- Python 3.10+
- pip

### 2. 安装依赖

```bash
pip install -r requirements.txt
```

### 3. 配置文件

复制环境变量示例文件并根据需要修改：

```bash
cp .env.example .env
```

### 4. 启动应用

```bash
python main.py
```

应用将在 http://0.0.0.0:3100 启动。

## 使用方法

### 1. 模型配置
1. 访问 http://localhost:3100/model_prediction
2. 在模型配置部分选择模型系统（单个模型或集成模型）
3. 配置数据预处理参数
4. 设置策略模式

### 2. 模型训练
1. 点击"开始训练"按钮启动模型训练
2. 查看训练状态和进度
3. 训练完成后，模型会自动保存

### 3. 运行预测
1. 点击"运行预测"按钮触发预测
2. 查看预测结果，包括智能组合预测、机器学习模型预测和技术指标预测
3. 分析预测图表和特征重要性

### 4. 实时监控
应用会自动监控市场数据，使用训练好的模型进行实时预测，并生成交易信号和警报。

## API 接口

### 1. 模型训练
- **WebSocket**: `/ws/training` - 实时训练状态和日志

### 2. 预测
- **POST**: `/api/prediction/run` - 运行预测
- **POST**: `/api/prediction/clear-cache` - 清除缓存
- **POST**: `/api/prediction/load-model` - 加载模型

### 3. 配置
- **GET**: `/api/prediction-strategies` - 获取预测策略
- **GET**: `/api/investment-strategies` - 获取投资策略
- **GET**: `/api/symbols` - 获取交易对

## 技术栈

### 后端
- Python 3.10+
- FastAPI
- Scikit-learn
- XGBoost
- Pandas
- NumPy
- WebSockets

### 前端
- HTML5
- CSS3
- JavaScript
- Bootstrap 5
- Chart.js

### 数据处理
- 技术指标计算
- 特征工程
- 数据缩放和标准化
- 特征选择

## 性能优化

1. **缓存机制**：实现了缓存系统，减少重复计算
2. **并行处理**：支持并行模型训练
3. **数据压缩**：优化数据存储和传输
4. **模型优化**：选择高效的模型和参数

## 安全措施

1. **API 保护**：实现了基本的API访问控制
2. **数据验证**：对输入数据进行验证，防止恶意输入
3. **错误处理**：完善的错误处理机制，避免系统崩溃
4. **日志记录**：记录系统运行状态和错误信息

## 未来计划

1. **更多模型支持**：添加更多类型的机器学习模型
2. **深度学习集成**：集成深度学习模型，提高预测准确性
3. **多市场支持**：支持更多加密货币和传统金融市场
4. **自动调参**：实现模型参数的自动调优
5. **回测系统**：完善的回测系统，评估策略性能
6. **风险管理**：集成风险管理系统，控制交易风险

## 贡献指南

1. Fork 项目
2. 创建功能分支
3. 提交更改
4. 推送到分支
5. 开启 Pull Request

## 许可证

本项目采用 MIT 许可证。

## 联系方式

如有问题或建议，请通过 GitHub Issues 提交。
